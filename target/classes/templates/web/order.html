<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<!-- Mirrored from martfury.pl/utero/html/v1/cart.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Oct 2024 06:58:54 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Utero - cart</title>
    <link href="assets/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/theme7b30.css?v=4" rel="stylesheet" type="text/css"/>
    <!-- For Js Library -->
    <script src="assets/vendor7b30.js?v=4"></script>
    <script src="assets/theme7b30.js?v=4"></script>
</head>
<body class="home inner-page about-page">
<div id="main">
    <!-- Header -->
    <div th:insert="~{/web/fragments/header}"></div>

    <!-- End header -->
    <!-- Sidebar contact -->
    <div class="sidebar-contact js-sidebar-contact">
        <!-- Background -->
        <div class="sidebar-contact__background js-close-sidebar-contact"></div>
        <!-- End background -->
        <!-- Content -->
        <div class="sidebar-contact__content">
            <!-- Close -->
            <div class="sidebar-contact__close"><a href="#" class="js-close-sidebar-contact"><i
                    class="lnil lnil-close"></i></a></div>
            <!-- End close -->
            <!-- Section -->
            <div class="sidebar-contact__section">
                <!-- Title -->
                <h6 class="sidebar-contact-section__title">Contact</h6>
                <!-- End title -->
                <!-- Item -->
                <div class="sidebar-contact-section__item d-flex">
                    <!-- Icon -->
                    <div class="sidebar-contact-section-item__icon"><i class="lnil lnil-map-marker"></i></div>
                    <!-- End icon -->
                    <!-- Text -->
                    <div class="sidebar-contact-section-item__text">
                        No. Rosecrans Ave, Suite 200 El Segundo, CA 90245. USA
                    </div>
                    <!-- End text -->
                </div>
                <!-- End item -->
                <!-- Item -->
                <div class="sidebar-contact-section__item d-flex">
                    <!-- Icon -->
                    <div class="sidebar-contact-section-item__icon"><i class="lnil lnil-phone-ring"></i></div>
                    <!-- End icon -->
                    <!-- Text -->
                    <div class="sidebar-contact-section-item__text">
                        Call: +1 (202) 861-5567
                    </div>
                    <!-- End text -->
                </div>
                <!-- End item -->
                <!-- Item -->
                <div class="sidebar-contact-section__item d-flex">
                    <!-- Icon -->
                    <div class="sidebar-contact-section-item__icon"><i class="lnil lnil-message-edit"></i></div>
                    <!-- End icon -->
                    <!-- Text -->
                    <div class="sidebar-contact-section-item__text">
                        Email: support@demo.com
                    </div>
                    <!-- End text -->
                </div>
                <!-- End item -->
            </div>
            <!-- End section -->
            <!-- Section -->
            <div class="sidebar-contact__section">
                <!-- Title -->
                <h6 class="sidebar-contact-section__title">Connect on Social</h6>
                <!-- End title -->
                <!-- Socials -->
                <ul class="sidebar-contact-section__socials">
                    <li><a href="https://twitter.com/" target="_blank"><i class="lnil lnil-twitter"></i></a></li>
                    <li><a href="https://facebook.com/" target="_blank"><i class="lnil lnil-facebook"></i></a></li>
                    <li><a href="https://instagram.com/" target="_blank"><i class="lnil lnil-Instagram"></i></a></li>
                </ul>
                <!-- End socials -->
            </div>
            <!-- End section -->
        </div>
        <!-- End content -->
    </div>
    <!-- End sidebar contact -->
    <!-- Fixed header -->
    <div class="fixed-header js-fixed-header"></div>
    <!-- End fixed header -->
    <!-- Shopping cart -->
    <div class="shopping-cart">
        <!-- Container -->
        <div class="container my-4">
            <!-- Second container -->
            <div class="shopping-cart__container">
                <!-- Title -->
                <h3 class="text-center mb-4">Your Order</h3>
                <!-- End title -->
                <!-- Row -->
                <div class="table-responsive">
                    <!-- Table -->
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                        <tr>
                            <th>STT</th>
                            <th>Status</th>
                            <th>Total Price</th>
                            <th>Address</th>
                            <th>Operation</th>
                        </tr>
                        </thead>
                        <tbody id="cartTableBody" th:each="order : ${orders}">
                        <tr th:data-order-id="${order.id}" class="order-row">
                            <td th:text="${order.id}"></td>
                            <td th:text="${order.orderStatus}"></td>
                            <td th:text="${order.totalPrice}"></td>
                            <td>
                                <div>
                                    <span th:text="${order.addressUser.street}"></span>,
                                    <span th:text="${order.addressUser.ward.wardName}"></span>,
                                    <span th:text="${order.addressUser.district.districtName}"></span>,
                                    <span th:text="${order.addressUser.province.provinceName}"></span>
                                </div>
                            </td>
                            <td>
                                <a href="#" class="btn btn-sm btn-danger cancel-btn" id="cancel-btn">
                                    <i class="bi bi-trash3"></i> Cancel
                                </a>
                            </td>
                        </tr>
                        <!-- Dòng chi tiết sẽ được sổ xuống -->
                        <tr class="order-details-row" style="display: none;">
                            <td colspan="5">
                                <div id="orderDetailsContent">
                                    <!-- Bảng chi tiết đơn hàng -->
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <th>Item Name</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Total</th>
                                            <th>Size</th>
                                            <th>Color</th>
                                        </tr>
                                        </thead>
                                        <tbody id="orderItemsBody">
                                        <!-- Loading row will show while the API is fetching data -->
                                        <tr>
                                            <td colspan="4">Loading...</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>

                        </tbody>
                    </table>

                    <!-- Modal for showing order details -->

                                <!-- End table -->
                            </div>
                            <!-- End table responsive -->
                            <!-- Cart discount -->

                            <!-- End cart discount -->
                        </div>
                        <!-- End cart container -->
                    </div>
                    <!-- End left -->
                    <!-- Right -->

                    <!-- End right -->
                </div>
                <!-- End row -->
            </div>
            <!-- End second container -->
        </div>
        <!-- End container -->
    </div>
    <!-- End shopping cart -->
    <!-- Footer -->
    <footer class="footer">
        <!-- Container -->
        <div class="container">
            <!-- Row -->
            <div class="row">
                <!-- First column -->
                <div class="col-md-6 col-lg-3 footer__first-column">
                    <!-- Footer logo -->
                    <h5 class="footer__logo">UTERO</h5>
                    <!-- End footer logo -->
                    <!-- Footer address -->
                    <ul class="footer__address">
                        <li>268 Elizaberth Ave Str, Brooklyn,<br>CA, 90025</li>
                        <li>+0082 561 43 34</li>
                        <li><a href="mailto:support@utero.com">support@utero.com</a></li>
                    </ul>
                    <!-- End footer address -->
                    <!-- Footer socials -->
                    <ul class="footer__socials">
                        <li><a href="https://twitter.com/" target="_blank"><i class="lnil lnil-twitter"></i></a></li>
                        <li><a href="https://facebook.com/" target="_blank"><i class="lnil lnil-facebook"></i></a></li>
                        <li><a href="https://instagram.com/" target="_blank"><i class="lnil lnil-Instagram"></i></a>
                        </li>
                    </ul>
                    <!-- End footer socials -->
                </div>
                <!-- End first column -->
                <!-- Second column -->
                <div class="col-md-6 col-lg-3 footer__second-column">
                    <!-- Footer heading -->
                    <h6 class="footer__heading">FAQS</h6>
                    <!-- End footer heading -->
                    <!-- Footer menu -->
                    <ul class="footer__menu">
                        <li><a href="#">Information</a></li>
                        <li><a href="#">Payment</a></li>
                        <li><a href="#">Shipping</a></li>
                        <li><a href="#">Returns</a></li>
                        <li><a href="#">Gift Card</a></li>
                        <li><a href="#">Guest purchase</a></li>
                        <li><a href="#">Electronic receipt</a></li>
                        <li><a href="#">Terms &amp; Conditions</a></li>
                    </ul>
                    <!-- End footer menu -->
                </div>
                <!-- End second column -->
                <!-- Third column -->
                <div class="col-md-6 col-lg-3 footer__third-column">
                    <!-- Footer heading -->
                    <h6 class="footer__heading">Company</h6>
                    <!-- End footer heading -->
                    <!-- Footer menu -->
                    <ul class="footer__menu">
                        <li><a href="#">About Utero</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Our Journals</a></li>
                    </ul>
                    <!-- End footer menu -->
                </div>
                <!-- End third column -->
                <!-- Fourth column -->
                <div class="col-md-6 col-lg-3 footer__fourth-column">
                    <!-- Footer heading -->
                    <h6 class="footer__heading">Newsletter</h6>
                    <!-- End footer heading -->
                    <!-- Footer newsletter -->
                    <form class="footer__newsletter">
                        <!-- Footer newsletter description -->
                        <div class="footer__newsletter-description">Be the first to get the latest news about trends,
                            promotions and much more!
                        </div>
                        <!-- End footer newsletter description -->
                        <!-- Footer newsletter input -->
                        <input type="email" class="footer__newsleter-input" placeholder="Enter your mail address">
                        <!-- End footer newsletter input -->
                        <!-- Footer newsletter privacy policy -->
                        <div class="footer__newsletter-privacy-policy">By subscribing, you accept the <a href="#">Privacy
                            Policy</a></div>
                        <!-- End footer newsletter privacy policy -->
                        <!-- Footer newsletter button -->
                        <button type="submit" class="second-button footer__newsletter-button">Subscribe</button>
                        <!-- End footer newsletter button -->
                    </form>
                    <!-- End footer newsletter -->
                </div>
                <!-- End fourth column -->
            </div>
            <!-- End row -->
            <!-- Copyright -->
            <div class="copyright">
                <!-- Row -->
                <div class="row">
                    <!-- Copyright first column -->
                    <div class="col-lg-3 copyright__first-column">
                        © 2024 <span>UTERO</span>. All rights reserved
                    </div>
                    <!-- End copyright first column -->
                    <!-- Copyright second column -->
                    <div class="col-lg-3 copyright__second-column">
                        <!-- Language switcher -->
                        <ul class="copyright__language-switcher">
                            <li><a href="#" class="active">EN</a></li>
                            <li><a href="#">FR</a></li>
                        </ul>
                        <!-- End language switcher -->
                    </div>
                    <!-- End copyright second column -->
                    <!-- Copyright payments -->
                    <div class="col-lg-6 copyright__payment">
                        <span>Accept for</span> <img src="assets/images/default/payment.png" alt="Payment method"/>
                    </div>
                    <!-- End copyright payments -->
                </div>
                <!-- End row -->
            </div>
            <!-- End copyright -->
        </div>
        <!-- End Container -->
    </footer>
    <!-- End Footer -->
    <!-- Search popup -->
    <div class="search-popup js-search-popup">
        <!-- Search close -->
        <div class="search-popup__close">
            <a href="#" class="js-close-search-popup"><i class="lnil lnil-close"></i></a>
        </div>
        <!-- End search close -->
        <!-- Container -->
        <div class="container">
            <!-- Search categories -->
            <ul class="search-popup__categories">
                <li><a href="#" class="active">All</a></li>
                <li><a href="#">Clothings</a></li>
                <li><a href="#">Shoes</a></li>
                <li><a href="#">Bags</a></li>
                <li><a href="#">Accessories</a></li>
            </ul>
            <!-- End search categories -->
            <!-- Search form -->
            <form class="search-popup__form">
                <!-- Search input -->
                <input type="text" class="search-popup__input" placeholder="Search here..."/>
                <!-- End search input -->
            </form>
            <!-- End search form -->
            <!-- Search results -->
            <div class="search-popups__results">
                <!-- Results heading -->
                <h6 class="search-popup__results-heading">Search results</h6>
                <!-- End results heading -->
                <!-- Results -->
                <div class="search-popups__results-products d-flex">
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Tag -->
                        <div class="product-grid-item__tag product-grid-item__tag--sold-out">Sold out</div>
                        <!-- End tag -->
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/6a.jpg 400w,
                    assets/products/1/6a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/6b.jpg 400w,
                    assets/products/1/6b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Basic T-shitt with slogan</a></div>
                        <!-- End title -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $32.5
                        </div>
                        <!-- End price -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/13a.jpg 400w,
                    assets/products/1/13a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/13b.jpg 400w,
                    assets/products/1/13b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Chrome acetate sunglasses</a></div>
                        <!-- End title -->
                        <!-- Rating -->
                        <div class="product-grid-item__rating">
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <span>3 reviews</span>
                        </div>
                        <!-- End rating -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $72.9
                        </div>
                        <!-- End price -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Tag -->
                        <div class="product-grid-item__tag">10% off</div>
                        <!-- End tag -->
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/2_1-a.jpg 400w,
                    assets/products/1/2_1-a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/2_1-b.jpg 400w,
                    assets/products/1/2_1-b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Zipped cotton cardigan</a></div>
                        <!-- End title -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            <span class="price-new">$49.5</span>
                            <span class="price-old">$68.5</span>
                        </div>
                        <!-- End price -->
                        <!-- Tag -->
                        <div class="product-grid-item__content-tag">2 colours</div>
                        <!-- End tag -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/1b.jpg 400w,
                    assets/products/1/1b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/1c.jpg 400w,
                    assets/products/1/1c.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Crew neck cotton sweatshirt</a>
                        </div>
                        <!-- End title -->
                        <!-- Rating -->
                        <div class="product-grid-item__rating">
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <span>3 reviews</span>
                        </div>
                        <!-- End rating -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $79.9
                        </div>
                        <!-- End price -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/3a.jpg 400w,
                    assets/products/1/3a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/3b.jpg 400w,
                    assets/products/1/3b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Brown nubuck leather high-top deck
                            shoes</a></div>
                        <!-- End title -->
                        <!-- Rating -->
                        <div class="product-grid-item__rating">
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled"></i>
                            <span>1 review</span>
                        </div>
                        <!-- End rating -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $149.5
                        </div>
                        <!-- End price -->
                        <!-- Tag -->
                        <div class="product-grid-item__content-tag">3 colours</div>
                        <!-- End tag -->
                    </div>
                    <!-- End product -->
                </div>
                <!-- End results -->
                <!-- Results action -->
                <div class="search-popup__results-action">
                    <a href="#" class="button">All results (12)</a>
                </div>
                <!-- End results actions -->
            </div>
            <!-- End search results -->
        </div>
        <!-- End container -->
    </div>
    <!-- End search popup -->
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Lắng nghe sự kiện click vào từng dòng đơn hàng
        const orderRows = document.querySelectorAll('.order-row');
        orderRows.forEach(function(row) {
            row.addEventListener('click', function () {
                const orderId = this.getAttribute('data-order-id'); // Lấy order_id từ thuộc tính data-order-id
                console.log(orderId);
                // Lấy dòng chi tiết phía dưới hàng
                const detailsRow = this.nextElementSibling;

                // Nếu chi tiết đơn hàng đã được mở, ẩn nó đi
                if (detailsRow.style.display === 'table-row') {
                    detailsRow.style.display = 'none';
                } else {
                    // Nếu chưa mở, mở nó lên và lấy dữ liệu chi tiết từ API
                    detailsRow.style.display = 'table-row';

                    // Gọi API để lấy chi tiết đơn hàng
                    fetch(`/orderdetails/${orderId}`)
                        .then(response => response.json())
                        .then(orderDetails => {
                            console.log(orderDetails)
                            const orderDetailsContent = detailsRow.querySelector('#orderDetailsContent');

                            // Kiểm tra xem orderDetails có hợp lệ không và xử lý nó
                            if (orderDetails && Array.isArray(orderDetails) && orderDetails.length > 0) {
                                let itemsHtml = '';

                                // Duyệt qua tất cả các đơn hàng trong orderDetails
                                orderDetails.forEach(order => {
                                    // Với mỗi order, lấy thông tin chi tiết
                                    itemsHtml += `
                                    <tr>
                                        <td>${order.variant.product.name}</td>
                                        <td><img src="${order.variant.product.imageUrlPrimary}" alt="${order.variant.product.name}" style="max-width: 100px; max-height: 100px; object-fit: cover;"></td>
                                        <td>${order.quantity}</td>
                                        <td>${order.price}</td>
                                        <td>${(order.quantity * order.price).toFixed(2)}</td>
                                        <td>${order.variant.size ? order.variant.size.sizeName : 'N/A'}</td>
                                        <td>${order.variant.color.nameColor}</td>
                                    </tr>
                                `;
                                });

                                // Cập nhật nội dung của bảng với tất cả các item
                                orderDetailsContent.innerHTML = `
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Item Name</th>
                                            <th>Image</th>
                                            <th>Quantity</th>
                                            <th>Price</th>
                                            <th>Total</th>
                                            <th>Size</th>
                                            <th>Color</th>

                                        </tr>
                                    </thead>
                                    <tbody id="orderItemsBody">
                                        ${itemsHtml}
                                    </tbody>
                                </table>
                            `;
                            } else {
                                orderDetailsContent.innerHTML = `
                                <p>No order details available.</p>
                            `;
                            }
                        })
                        .catch(error => {
                            console.error('Error fetching order details:', error);
                            const orderDetailsContent = detailsRow.querySelector('#orderDetailsContent');
                            orderDetailsContent.innerHTML = '<p>Error loading details.</p>';
                        });
                }
            });
        });
    });

</script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const cancelButtons = document.querySelectorAll('.cancel-btn');

        cancelButtons.forEach(button => {
            button.addEventListener('click', function(event) {
                event.preventDefault();

                // Lấy ID của đơn hàng từ thuộc tính data-order-id của dòng hiện tại
                const orderRow = button.closest('tr');
                const orderId = orderRow.getAttribute('data-order-id');

                // Gửi yêu cầu đến API để cập nhật trạng thái
                fetch('/update-status', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        orderId: orderId,
                        status: 'CANCEL',  // Trạng thái mới là "DA_HUY"
                    })
                })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            // Nếu thành công, cập nhật trạng thái đơn hàng trên giao diện
                            const statusCell = orderRow.querySelector('td:nth-child(2)');  // Cột trạng thái
                            statusCell.textContent = 'DA_HUY';  // Cập nhật trạng thái
                            alert("Hủy Thành Công")
                        } else {
                            alert("Không thể hủy đơn hàng");  // Nếu có lỗi, hiển thị thông báo
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Có lỗi xảy ra khi cập nhật trạng thái đơn hàng');
                    });
            });
        });
    });
</script>
</body>


</html>