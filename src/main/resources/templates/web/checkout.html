<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from martfury.pl/utero/html/v1/checkout.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 02 Oct 2024 06:58:54 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Utero - checkout</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
          integrity="sha512-vKMx8UnXk60zUwyUnUPM3HbQo8QfmNx7+ltw8Pm5zLusl1XIfwcxo8DbWCqMGKaWeNxWA8yrx5v3SaVpMvR3CA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="assets/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/theme7b30.css?v=4" rel="stylesheet" type="text/css"/>

    <!-- For Js Library -->

    <script src="assets/vendor7b30.js?v=4"></script>
    <script src="assets/theme7b30.js?v=4"></script>
    <link rel="stylesheet" th:href="@{/assets/css/toastr-css.css}">
</head>
<body class="home inner-page about-page">
<div id="main">
    <!-- Header -->
    <div th:insert="~{/web/fragments/header}"></div>

    <!-- End header -->
    <!-- Sidebar contact -->
    <div class="sidebar-contact js-sidebar-contact">
        <!-- Background -->
        <div class="sidebar-contact__background js-close-sidebar-contact"></div>
        <!-- End background -->
        <!-- Content -->
        <div class="sidebar-contact__content">
            <!-- Close -->
            <div class="sidebar-contact__close"><a href="#" class="js-close-sidebar-contact"><i
                    class="lnil lnil-close"></i></a></div>
            <!-- End close -->
            <!-- Section -->
            <div class="sidebar-contact__section">
                <!-- Title -->
                <h6 class="sidebar-contact-section__title">Contact</h6>
                <!-- End title -->
                <!-- Item -->
                <div class="sidebar-contact-section__item d-flex">
                    <!-- Icon -->
                    <div class="sidebar-contact-section-item__icon"><i class="lnil lnil-map-marker"></i></div>
                    <!-- End icon -->
                    <!-- Text -->
                    <div class="sidebar-contact-section-item__text">
                        No. Rosecrans Ave, Suite 200 El Segundo, CA 90245. USA
                    </div>
                    <!-- End text -->
                </div>
                <!-- End item -->
                <!-- Item -->
                <div class="sidebar-contact-section__item d-flex">
                    <!-- Icon -->
                    <div class="sidebar-contact-section-item__icon"><i class="lnil lnil-phone-ring"></i></div>
                    <!-- End icon -->
                    <!-- Text -->
                    <div class="sidebar-contact-section-item__text">
                        Call: +1 (202) 861-5567
                    </div>
                    <!-- End text -->
                </div>
                <!-- End item -->
                <!-- Item -->
                <div class="sidebar-contact-section__item d-flex">
                    <!-- Icon -->
                    <div class="sidebar-contact-section-item__icon"><i class="lnil lnil-message-edit"></i></div>
                    <!-- End icon -->
                    <!-- Text -->
                    <div class="sidebar-contact-section-item__text">
                        Email: support@demo.com
                    </div>
                    <!-- End text -->
                </div>
                <!-- End item -->
            </div>
            <!-- End section -->
            <!-- Section -->
            <div class="sidebar-contact__section">
                <!-- Title -->
                <h6 class="sidebar-contact-section__title">Connect on Social</h6>
                <!-- End title -->
                <!-- Socials -->
                <ul class="sidebar-contact-section__socials">
                    <li><a href="https://twitter.com/" target="_blank"><i class="lnil lnil-twitter"></i></a></li>
                    <li><a href="https://facebook.com/" target="_blank"><i class="lnil lnil-facebook"></i></a></li>
                    <li><a href="https://instagram.com/" target="_blank"><i class="lnil lnil-Instagram"></i></a></li>
                </ul>
                <!-- End socials -->
            </div>
            <!-- End section -->
        </div>
        <!-- End content -->
    </div>
    <!-- End sidebar contact -->
    <!-- Fixed header -->
    <div class="fixed-header js-fixed-header"></div>
    <!-- End fixed header -->
    <!-- Checkout -->
    <div class="checkout">
        <!-- Container -->
        <div class="container">
            <!-- Second container -->
            <div class="checkout__container">
                <!-- Title -->
                <h1 class="checkout__title">Checkout</h1>
                <!-- End title -->
                <!-- Form -->
                <form class="row">
                    <!-- Left column -->
                    <div class="col-lg-7">
                        <!-- Container -->
                        <div class="checkout__container-2">
                            <!-- Row -->

                            <!-- End row -->
                            <!-- Billing form -->
                            <div class="billing-form">
                                <h3 class="billing-form__heading">Billing Detail</h3>

                                <div class="form-group">
                                    <div class="form-group__select">
                                        <select name="provinceId" id="provinceId" onchange="loadDistricts()">
                                            <option value="">Select Province</option>
                                            <th:block th:each="province : ${provinces}">
                                                <option th:value="${province.id}"
                                                        th:text="${province.provinceName}"></option>
                                            </th:block>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="form-group__select">
                                        <select id="districtId" name="districtId" onchange="loadWards()">
                                            <option value="">Select District</option>
                                            <!-- Quận sẽ được tải vào đây thông qua AJAX -->
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="form-group__select">
                                        <select id="wardId" name="wardId">
                                            <option value="">Select Ward</option>
                                            <!-- Phường sẽ được tải vào đây thông qua AJAX -->
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <input type="text" name="street" placeholder="Street Address *"
                                           class="form-group__input">
                                </div>


                                <div class="checkout__action">
                                    <button type="submit" class="second-button" id="saveAddressBtn">Save Address
                                    </button>
                                </div>
                            </div>

                            <!-- End billing form -->
                        </div>
                        <!-- End container -->
                    </div>
                    <!-- End left column -->
                    <!-- Right column -->

                    <div class="col-lg-5">

                        <!-- Summary -->
                        <div class="checkout__summary">
                            <!-- Tiêu đề -->
                            <h3 class="checkout-summary__title">Your Order</h3>
                            <!-- Khu vực hiển thị sản phẩm -->
                            <div class="checkout__products cart-container">
                                <!-- Sản phẩm sẽ được thêm vào từ JavaScript -->
                            </div>
                            <!-- Tổng phụ và vận chuyển -->

                            <div class="checkout__subtotal-and-shipping">
                                <!-- Tổng phụ -->
                                <div class="form-group">
                                    <div class="form-group__select">
                                        <select id="addressSelect" class="form-control form-control-lg">
                                            <option value="">Select your Address</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="checkout__subtotal">
                                    <div class="checkout-subtotal__title" id="subtotal">Subtotal</div>
                                    <div class="checkout-subtotal__price" id="totalPrice">$0.00</div>
                                </div>
                                <!-- Vận chuyển -->
                                <div class="checkout__shipping">
                                    <div class="checkout-shipping__title" id="ship">Standard Shipping</div>
                                    <div class="checkout-shipping__price">$20.0</div>
                                </div>
                            </div>
                            <!-- Tổng cộng -->
                            <div class="checkout__total">
                                <div class="checkout-total__title">Total</div>
                                <div class="checkout-total__price" id="finalTotal">$21.00</div>
                            </div>
                            <!-- Hành động -->
                            <div class="checkout__action">
                                <a href="#" id="place-order-button" class="second-button">Place order</a>
                            </div>
                        </div>

                        <!-- End summary -->
                    </div>
                    <!-- End right column -->
                </form>
                <!-- End form -->
            </div>
            <!-- End second container -->
        </div>
        <!-- End container -->
    </div>
    <!-- End checkout -->
    <!-- Footer -->
    <footer class="footer">
        <!-- Container -->
        <div class="container">
            <!-- Row -->
            <div class="row">
                <!-- First column -->
                <div class="col-md-6 col-lg-3 footer__first-column">
                    <!-- Footer logo -->
                    <h5 class="footer__logo">UTERO</h5>
                    <!-- End footer logo -->
                    <!-- Footer address -->
                    <ul class="footer__address">
                        <li>268 Elizaberth Ave Str, Brooklyn,<br>CA, 90025</li>
                        <li>+0082 561 43 34</li>
                        <li><a href="mailto:support@utero.com">support@utero.com</a></li>
                    </ul>
                    <!-- End footer address -->
                    <!-- Footer socials -->
                    <ul class="footer__socials">
                        <li><a href="https://twitter.com/" target="_blank"><i class="lnil lnil-twitter"></i></a></li>
                        <li><a href="https://facebook.com/" target="_blank"><i class="lnil lnil-facebook"></i></a></li>
                        <li><a href="https://instagram.com/" target="_blank"><i class="lnil lnil-Instagram"></i></a>
                        </li>
                    </ul>
                    <!-- End footer socials -->
                </div>
                <!-- End first column -->
                <!-- Second column -->
                <div class="col-md-6 col-lg-3 footer__second-column">
                    <!-- Footer heading -->
                    <h6 class="footer__heading">FAQS</h6>
                    <!-- End footer heading -->
                    <!-- Footer menu -->
                    <ul class="footer__menu">
                        <li><a href="#">Information</a></li>
                        <li><a href="#">Payment</a></li>
                        <li><a href="#">Shipping</a></li>
                        <li><a href="#">Returns</a></li>
                        <li><a href="#">Gift Card</a></li>
                        <li><a href="#">Guest purchase</a></li>
                        <li><a href="#">Electronic receipt</a></li>
                        <li><a href="#">Terms &amp; Conditions</a></li>
                    </ul>
                    <!-- End footer menu -->
                </div>
                <!-- End second column -->
                <!-- Third column -->
                <div class="col-md-6 col-lg-3 footer__third-column">
                    <!-- Footer heading -->
                    <h6 class="footer__heading">Company</h6>
                    <!-- End footer heading -->
                    <!-- Footer menu -->
                    <ul class="footer__menu">
                        <li><a href="#">About Utero</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Our Journals</a></li>
                    </ul>
                    <!-- End footer menu -->
                </div>
                <!-- End third column -->
                <!-- Fourth column -->
                <div class="col-md-6 col-lg-3 footer__fourth-column">
                    <!-- Footer heading -->
                    <h6 class="footer__heading">Newsletter</h6>
                    <!-- End footer heading -->
                    <!-- Footer newsletter -->
                    <form class="footer__newsletter">
                        <!-- Footer newsletter description -->
                        <div class="footer__newsletter-description">Be the first to get the latest news about trends,
                            promotions and much more!
                        </div>
                        <!-- End footer newsletter description -->
                        <!-- Footer newsletter input -->
                        <input type="email" class="footer__newsleter-input" placeholder="Enter your mail address">
                        <!-- End footer newsletter input -->
                        <!-- Footer newsletter privacy policy -->
                        <div class="footer__newsletter-privacy-policy">By subscribing, you accept the <a href="#">Privacy
                            Policy</a></div>
                        <!-- End footer newsletter privacy policy -->
                        <!-- Footer newsletter button -->
                        <button type="submit" class="second-button footer__newsletter-button">Subscribe</button>
                        <!-- End footer newsletter button -->
                    </form>
                    <!-- End footer newsletter -->
                </div>
                <!-- End fourth column -->
            </div>
            <!-- End row -->
            <!-- Copyright -->
            <div class="copyright">
                <!-- Row -->
                <div class="row">
                    <!-- Copyright first column -->
                    <div class="col-lg-3 copyright__first-column">
                        © 2024 <span>UTERO</span>. All rights reserved
                    </div>
                    <!-- End copyright first column -->
                    <!-- Copyright second column -->
                    <div class="col-lg-3 copyright__second-column">
                        <!-- Language switcher -->
                        <ul class="copyright__language-switcher">
                            <li><a href="#" class="active">EN</a></li>
                            <li><a href="#">FR</a></li>
                        </ul>
                        <!-- End language switcher -->
                    </div>
                    <!-- End copyright second column -->
                    <!-- Copyright payments -->
                    <div class="col-lg-6 copyright__payment">
                        <span>Accept for</span> <img src="assets/images/default/payment.png" alt="Payment method"/>
                    </div>
                    <!-- End copyright payments -->
                </div>
                <!-- End row -->
            </div>
            <!-- End copyright -->
        </div>
        <!-- End Container -->
    </footer>
    <!-- End Footer -->
    <!-- Search popup -->
    <div class="search-popup js-search-popup">
        <!-- Search close -->
        <div class="search-popup__close">
            <a href="#" class="js-close-search-popup"><i class="lnil lnil-close"></i></a>
        </div>
        <!-- End search close -->
        <!-- Container -->
        <div class="container">
            <!-- Search categories -->
            <ul class="search-popup__categories">
                <li><a href="#" class="active">All</a></li>
                <li><a href="#">Clothings</a></li>
                <li><a href="#">Shoes</a></li>
                <li><a href="#">Bags</a></li>
                <li><a href="#">Accessories</a></li>
            </ul>
            <!-- End search categories -->
            <!-- Search form -->
            <form class="search-popup__form">
                <!-- Search input -->
                <input type="text" class="search-popup__input" placeholder="Search here..."/>
                <!-- End search input -->
            </form>
            <!-- End search form -->
            <!-- Search results -->
            <div class="search-popups__results">
                <!-- Results heading -->
                <h6 class="search-popup__results-heading">Search results</h6>
                <!-- End results heading -->
                <!-- Results -->
                <div class="search-popups__results-products d-flex">
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Tag -->
                        <div class="product-grid-item__tag product-grid-item__tag--sold-out">Sold out</div>
                        <!-- End tag -->
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/6a.jpg 400w,
                    assets/products/1/6a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/6b.jpg 400w,
                    assets/products/1/6b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Basic T-shitt with slogan</a></div>
                        <!-- End title -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $32.5
                        </div>
                        <!-- End price -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/13a.jpg 400w,
                    assets/products/1/13a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/13b.jpg 400w,
                    assets/products/1/13b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Chrome acetate sunglasses</a></div>
                        <!-- End title -->
                        <!-- Rating -->
                        <div class="product-grid-item__rating">
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <span>3 reviews</span>
                        </div>
                        <!-- End rating -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $72.9
                        </div>
                        <!-- End price -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Tag -->
                        <div class="product-grid-item__tag">10% off</div>
                        <!-- End tag -->
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/2_1-a.jpg 400w,
                    assets/products/1/2_1-a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/2_1-b.jpg 400w,
                    assets/products/1/2_1-b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Zipped cotton cardigan</a></div>
                        <!-- End title -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            <span class="price-new">$49.5</span>
                            <span class="price-old">$68.5</span>
                        </div>
                        <!-- End price -->
                        <!-- Tag -->
                        <div class="product-grid-item__content-tag">2 colours</div>
                        <!-- End tag -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/1b.jpg 400w,
                    assets/products/1/1b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/1c.jpg 400w,
                    assets/products/1/1c.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Crew neck cotton sweatshirt</a>
                        </div>
                        <!-- End title -->
                        <!-- Rating -->
                        <div class="product-grid-item__rating">
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <span>3 reviews</span>
                        </div>
                        <!-- End rating -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $79.9
                        </div>
                        <!-- End price -->
                    </div>
                    <!-- End product -->
                    <!-- Product -->
                    <div class="product-grid-item">
                        <!-- Wishlist -->
                        <div class="product-grid-item__wishlist"><a href="#"><i class="lnil lnil-heart"></i></a></div>
                        <!-- End wishlist -->
                        <!-- Image -->
                        <div class="product-grid-item__image">
                            <a href="product.html">
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/3a.jpg 400w,
                    assets/products/1/3a.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect"/>
                                <img
                                        alt="Image"
                                        data-sizes="auto"
                                        data-srcset="assets/products/1/3b.jpg 400w,
                    assets/products/1/3b.jpg 800w"
                                        src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                                        class="lazyload lazy-effect hover"/>
                            </a>
                            <!-- Action -->
                            <div class="product-grid-item__action d-flex">
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Add to cart</a></div>
                                <!-- End button -->
                                <!-- Button -->
                                <div class="product-grid-item__button"><a href="#">Quick shop</a></div>
                                <!-- End button -->
                            </div>
                            <!-- End action -->
                        </div>
                        <!-- End image -->
                        <!-- Title -->
                        <div class="product-grid-item__title"><a href="product.html">Brown nubuck leather high-top deck
                            shoes</a></div>
                        <!-- End title -->
                        <!-- Rating -->
                        <div class="product-grid-item__rating">
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled active"></i>
                            <i class="lnir lnir-star-filled"></i>
                            <span>1 review</span>
                        </div>
                        <!-- End rating -->
                        <!-- Price -->
                        <div class="product-grid-item__price">
                            $149.5
                        </div>
                        <!-- End price -->
                        <!-- Tag -->
                        <div class="product-grid-item__content-tag">3 colours</div>
                        <!-- End tag -->
                    </div>
                    <!-- End product -->
                </div>
                <!-- End results -->
                <!-- Results action -->
                <div class="search-popup__results-action">
                    <a href="#" class="button">All results (12)</a>
                </div>
                <!-- End results actions -->
            </div>
            <!-- End search results -->
        </div>
        <!-- End container -->
    </div>
    <!-- End search popup -->
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"
        integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    // Tải quận khi tỉnh được chọn
    function loadDistricts() {
        var provinceId = $('#provinceId').val();
        console.log(provinceId);
        if (provinceId) {
            $.ajax({
                url: '/districts/' + provinceId,
                type: 'GET',
                beforeSend: function () {
                    $('#districtId').html('<option value="">Loading...</option>'); // Thêm thông báo đang tải
                    $('#wardId').html('<option value="">Select Ward</option>'); // Xóa các phường cũ
                },
                success: function (data) {
                    var districtSelect = $('#districtId');
                    districtSelect.empty(); // Xóa các quận cũ
                    districtSelect.append('<option value="">Select District</option>'); // Thêm option "Select District"
                    if (data.length > 0) {
                        data.forEach(function (district) {
                            districtSelect.append('<option value="' + district.id + '">' + district.districtName + '</option>');
                        });
                    } else {
                        districtSelect.append('<option value="">No districts found</option>'); // Thông báo không có quận
                    }
                },
                error: function () {
                    $('#districtId').html('<option value="">Error loading districts</option>'); // Thông báo lỗi
                }
            });
        } else {
            $('#districtId').empty().append('<option value="">Select District</option>');
            $('#wardId').empty().append('<option value="">Select Ward</option>');
        }
    }

    // Tải phường khi quận được chọn
    function loadWards() {
        var districtId = $('#districtId').val();
        if (districtId) {
            $.ajax({
                url: '/wards/' + districtId,
                type: 'GET',
                beforeSend: function () {
                    $('#wardId').html('<option value="">Loading...</option>'); // Thêm thông báo đang tải
                },
                success: function (data) {
                    var wardSelect = $('#wardId');
                    wardSelect.empty(); // Xóa các phường cũ
                    wardSelect.append('<option value="">Select Ward</option>'); // Thêm option "Select Ward"
                    if (data.length > 0) {
                        data.forEach(function (ward) {
                            wardSelect.append('<option value="' + ward.id + '">' + ward.wardName + '</option>');
                        });
                    } else {
                        wardSelect.append('<option value="">No wards found</option>'); // Thông báo không có phường
                    }
                },
                error: function () {
                    $('#wardId').html('<option value="">Error loading wards</option>'); // Thông báo lỗi
                }
            });
        } else {
            $('#wardId').empty().append('<option value="">Select Ward</option>');
        }
    }

    // Save Address
    $(document).ready(function () {
        // Khi nhấn nút Save Address
        $('#saveAddressBtn').click(function (e) {
            e.preventDefault(); // Ngừng hành động mặc định của form (nếu có)

            // Lấy dữ liệu từ các trường input
            var provinceId = $('#provinceId').val();
            var districtId = $('#districtId').val();
            var wardId = $('#wardId').val();
            var street = $('input[name="street"]').val();

            // In ra console để kiểm tra
            console.log("Sending data:", {
                provinceId: provinceId,
                districtId: districtId,
                wardId: wardId,
                street: street
            });

            // Kiểm tra nếu các trường không được chọn
            if (!provinceId || !districtId || !wardId || !street) {
                alert("Please fill all required fields!");
                return;
            }

            // Chuyển provinceId, districtId, wardId thành kiểu Integer nếu là chuỗi
            provinceId = parseInt(provinceId);
            districtId = parseInt(districtId);
            wardId = parseInt(wardId);

            // Kiểm tra nếu các giá trị ID không phải là số hợp lệ
            if (isNaN(provinceId) || isNaN(districtId) || isNaN(wardId)) {
                alert("Invalid ID format.");
                return;
            }

            // Gửi dữ liệu tới backend (controller) thông qua fetch POST request
            fetch('/save-address', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    provinceId: provinceId,
                    districtId: districtId,
                    wardId: wardId,
                    street: street
                })
            })
                .then(response => {
                    if (response.ok) {
                        alert("Address saved successfully!");
                    } else {
                        response.text().then(msg => alert(msg));
                    }
                })
                .catch(error => {
                    alert("Error saving address!");
                    console.error('Error:', error);
                });
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        fetch('/user')  // Fetch addresses based on userId from session
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error fetching addresses');
                }
                return response.json();
            })
            .then(data => {
                const addressSelect = document.getElementById('addressSelect'); // Same ID used in both places
                addressSelect.innerHTML = '';  // Clear old options

                // Add default option
                const defaultOption = document.createElement('option');
                defaultOption.value = '';
                defaultOption.textContent = 'Select your Address';
                addressSelect.appendChild(defaultOption);

                if (data && data.length > 0) {
                    // Add address options to dropdown
                    data.forEach(address => {
                        const option = document.createElement('option');
                        option.value = address.id;  // Store the address ID
                        option.textContent = address.address;  // Show full address
                        addressSelect.appendChild(option);
                    });
                } else {
                    // No addresses found, add option
                    const noAddressOption = document.createElement('option');
                    noAddressOption.value = '';
                    noAddressOption.textContent = 'No addresses found';
                    addressSelect.appendChild(noAddressOption);
                }
            })
            .catch(error => {
                const addressSelect = document.getElementById('addressSelect');
                const errorOption = document.createElement('option');
                errorOption.value = '';
                errorOption.textContent = 'Error loading addresses';
                addressSelect.appendChild(errorOption);
                console.error('Error:', error);
            });

        const addressSelect = document.getElementById('addressSelect');
        addressSelect.addEventListener('change', function () {
            const selectedAddressId = addressSelect.value;  // Get selected address ID
            if (selectedAddressId) {
                console.log('Selected Address ID:', selectedAddressId);
            } else {
                console.log('No address selected');
            }
        });


        // Get the selected address ID

        document.getElementById("place-order-button").addEventListener("click", async function (event) {
            event.preventDefault();  // Prevent default action of the link/button
            const addressId = document.getElementById("addressSelect").value; // Use the correct element ID here

            // Get the total cart value
            const totalPrice = parseFloat(document.getElementById("finalTotal").textContent.replace('$', '').trim());
            console.log("Total Price: ", totalPrice);  // Log total cart value
            console.log("Selected Address ID:", addressId);  // Log the selected address ID
            // Check if an address is selected
            if (!addressId) {
                toastr.error("Please select an address before placing the order.");
                return;
            }

            // Prepare the order data
            const orderData = {
                totalPrice: totalPrice,
                addressUser: {id: addressId}  // Send the address ID

            };
            try {
                const response = await axios.post(`/orders`, orderData);

                if (response.status === 200) {
                    toastr.success("Order successful!");
                    setTimeout(() => {
                        window.location.href = "/";
                    }, 1500); // Wait for 1 second (1000 milliseconds)
                }
            } catch (e) {
                toastr.error("Order failed!");
            }
        });
    });


</script>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Gọi API để lấy dữ liệu giỏ hàng
        fetch("/api/cart/items")
            .then(response => {
                if (!response.ok) {
                    throw new Error("User not logged in or unable to fetch cart items.");
                }
                return response.json();
            })
            .then(cartItems => {
                // Render giỏ hàng ra giao diện
                renderCartItemsCheck(cartItems);
                // Tính toán tổng giỏ hàng
                calculateSubtotalCheck(cartItems);
            })
            .catch(error => {
                console.error("Error fetching cart items:", error);
            });
    });

    function renderCartItemsCheck(cartItems) {
        const cartContainer = document.querySelector(".checkout__products");

        // Xóa nội dung cũ (nếu có)
        cartContainer.innerHTML = "";

        cartItems.forEach(item => {
            const productId = item.productVariant.product.id;
            const productSlug = item.productVariant.product.slug;

            const cartItemHTML = `
            <div class="checkout__product">
                <div class="checkout-product__image">
                    <a href="/product/${productId}/${productSlug}">
                        <img
                            alt="${item.productVariant.product.name}"
                            data-sizes="auto"
                            data-srcset="${item.productVariant.product.imageUrlPrimary} 400w,
                                        ${item.productVariant.product.imageUrlPrimary} 800w"
                            src="${item.productVariant.product.imageUrlPrimary}"
                            class="lazyload lazy-effect"
                        />
                    </a>
                </div>
                <div class="checkout-product__title-and-variant">
                    <h3 class="checkout-product__title">
                        <a href="/product/${productId}/${productSlug}">
                            ${item.quantity} x ${item.productVariant.product.name}
                        </a>
                    </h3>
                    <span class="checkout-product__variant">
                        ${item.productVariant.color.nameColor}, ${item.productVariant.size.sizeName}
                    </span>
                </div>
                <div class="checkout-product__price">$${(item.productVariant.product.discount != null
                ? ((item.productVariant.product.price - (item.productVariant.product.price * item.productVariant.product.discount) / 100) * item.quantity).toFixed(2)
                : (item.productVariant.product.price * item.quantity).toFixed(2))}
                </div>

            </div>
        `;
            // Thêm sản phẩm vào container
            cartContainer.innerHTML += cartItemHTML;
        });
    }

    // Hàm tính toán tổng giỏ hàng (subtotal)
    function calculateSubtotalCheck(cartItems) {
        let totalPriceSub = 0;

        cartItems.forEach(item => {
            totalPriceSub += item.productVariant.product.discount != null
                ? (item.productVariant.product.price - (item.productVariant.product.price * item.productVariant.product.discount / 100)) * item.quantity
                : item.productVariant.product.price * item.quantity;

            console.log("Total Price Sub: ", totalPriceSub);
        });

        // Cập nhật tổng giá trị
        const subtotalTitleEl = document.getElementById("totalPrice");
        const finalTotalEl = document.getElementById("finalTotal");

        subtotalTitleEl.textContent = `$${totalPriceSub.toFixed(2)}`;
        finalTotalEl.textContent = `$${(totalPriceSub + 20.0).toFixed(2)}`// Thêm phí vận chuyển

    }
</script>


</body>


</html>